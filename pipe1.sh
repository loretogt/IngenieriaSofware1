osmfilter spain-latest.osm --keep="bus=yes train=yes subway=yes">paradas.osm; osmconvert paradas.osm -B=CiudadMadrid.poly -o=madrid.o5m ; osmconvert madrid.o5m --all-to-nodes --csv="@id @lon @lat name" --csv-headline | awk 'NF>3'{print}>paradas.csv |sudo mysql -u root -p -e "CREATE DATABASE IF NOT EXISTS grupo46; USE grupo46; DROP TABLE IF EXISTS paradas; CREATE TABLE IF NOT EXISTS paradas (idparadas BIGINT(20) NOT NULL, latparadas FLOAT(9,7) NOT NULL, lonparadas FLOAT(9,7) NOT NULL, nameparadas VARCHAR(255) NULL, PRIMARY KEY (idparadas, latparadas, lonparadas)); DROP TABLE IF EXISTS restaurantes; CREATE TABLE IF NOT EXISTS restaurantes (idrest BIGINT(20) NOT NULL, latrest FLOAT(9,7) NOT NULL, lonrest FLOAT(9,7) NOT NULL, amenity VARCHAR(45) NULL, namerest VARCHAR(255) NULL, website VARCHAR(255) NULL, PRIMARY KEY (idrest, latrest, lonrest)); LOAD DATA LOCAL INFILE 'paradas.csv' INTO TABLE paradas FIELDS TERMINATED BY '\t' LINES TERMINATED BY '\n' IGNORE 1 ROWS;"


